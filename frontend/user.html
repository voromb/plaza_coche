<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Panel Usuario - Plaza Coche</title>
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <div class="dashboard">
    <header class="header">
      <h1>Plaza Coche - Usuario</h1>
      <div class="user-info">
        <span id="userName"></span>
        <button id="logoutBtn" class="btn btn-secondary">Cerrar Sesi贸n</button>
      </div>
    </header>

    <div class="container">
      <!-- Tabs -->
      <div class="tabs">
        <button class="tab-btn active" data-tab="asignacion">Asignaci贸n Esta Semana</button>
        <button class="tab-btn" data-tab="horario">Mi Horario</button>
        <button class="tab-btn" data-tab="uso">Uso del Cargador</button>
      </div>
      
      <!-- Tab: Asignaci贸n Esta Semana -->
      <div id="asignacion" class="tab-content active">
        <div class="section">
          <h2>Cargador Esta Semana</h2>
          <div id="chargerAssignment" class="info-card">
            <p>Cargando informaci贸n...</p>
          </div>
          </div>
      </div>

      <!-- Tab: Mi Horario -->
      <div id="horario" class="tab-content">
        <div class="section">
          <h2>Mi Horario</h2>
          <button id="editScheduleBtn" class="btn btn-primary">Introducir Horario</button>
          <div id="scheduleDisplay"></div>
          </div>
          </div>
          
          <!-- Tab: Uso del Cargador -->
          <div id="uso" class="tab-content">
            <div class="section">
              <h2>Uso del Cargador</h2>
              <div id="usageDisplay" class="usage-card">
                <div class="usage-header">
                  <h3>Esta Semana</h3>
                  <span id="weeklyHours" class="usage-value">0 horas</span>
                </div>
                <div class="usage-bar">
                  <div id="usageBar" class="usage-progress"></div>
                </div>
                <div id="usageDetails" class="usage-details"></div>
              </div>
            </div>
      </div>

      <div id="message" class="message"></div>
    </div>
  </div>

  <!-- Modal para introducir horario -->
  <div id="scheduleModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Mi Horario Semanal</h2>
      <p>Clickea las horas que trabajas (8-14 y 15-22)</p>
      <div id="scheduleGrid"></div>
      <button id="saveScheduleBtn" class="btn btn-primary">Guardar Horario</button>
    </div>
  </div>

  <script src="js/ApiService.js"></script>
  <script src="js/AuthService.js"></script>
  <script src="js/user.js"></script>
</body>

</html>